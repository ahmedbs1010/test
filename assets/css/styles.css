:root{
  /* Core surfaces */
  --bg: #0b1020;
  --panel: #0f162e;
  --panel-elev: #141c3a;
  --text: #e6e9f2;
  --muted: #9aa4bf;

  /* Tokyo 2020 brand & Olympic ring palette */
  --tokyo-blue: #005bac; /* Primary brand blue */
  --ring-blue: #0085c7;
  --ring-yellow: #f4c300;
  --ring-black: #1a1a1a;
  --ring-green: #009f3d;
  --ring-red: #df0024;

  /* Medal colors */
  --gold: #f2c200;
  --silver: #b0b7c1;
  --bronze: #cd7f32;

  /* Semantic palette */
  --primary: var(--tokyo-blue);
  --success: #2ecc71;
  --warning: #f1c40f;
  --danger: #e74c3c;
  --border: #1e2a55;
  --chip-bg: #0f1630;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

html[data-theme="light"]{
  --bg: #f7f8fb;
  --panel: #ffffff;
  --panel-elev: #fafbff;
  --text: #0b1220;
  --muted: #5b6b8d;
  --primary: var(--tokyo-blue);
  --success: #22c55e;
  --warning: #eab308;
  --danger: #ef4444;
  --border: #e6e9f2;
  --chip-bg: #f1f4ff;
}

*{ box-sizing: border-box }

html, body{ height: 100% }

body{
  margin: 0;
  font-family: Inter, "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--text);
  background: radial-gradient(1200px 600px at 10% -10%, rgba(85,112,255,.08), transparent 40%),
              radial-gradient(800px 500px at 90% 10%, rgba(34,197,94,.08), transparent 40%),
              var(--bg);
}

.layout{
  display: grid;
  grid-template-columns: 280px 1fr;
  grid-template-areas: "sidebar main";
  min-height: 100vh;
}

.sidebar{
  grid-area: sidebar;
  position: sticky;
  top: 0;
  height: 100vh;
  background: linear-gradient(180deg, var(--panel), var(--panel-elev));
  border-right: 1px solid var(--border);
  padding: 20px 16px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}
.sidebar__brand{
  display: flex; align-items: center; gap: 10px; padding: 8px 10px; border-radius: 10px; color: var(--primary);
}
.brand__name{ font-weight: 700; letter-spacing: .2px }
.sidebar__nav{ display: grid; gap: 6px; margin-top: 4px }
.nav__item{
  display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 10px; color: var(--text); text-decoration: none;
}
.nav__item:hover{ background: rgba(85,112,255,.08) }
.nav__item.is-active{ background: rgba(85,112,255,.16); color: var(--primary); font-weight: 600 }
.label{ font-size: 14px }
.sidebar__footer{ margin-top: auto; color: var(--muted); font-size: 12px; padding: 8px 12px }

.sidebar-backdrop{ display:none }

.main{ grid-area: main; padding: 20px 24px }
.topbar{
  position: sticky; top: 0; z-index: 5;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  padding: 10px 14px; margin: -10px -14px 16px; border-bottom: 1px solid var(--border);
  backdrop-filter: saturate(1.2) blur(6px);
}
.topbar__left, .topbar__right{ display: flex; align-items: center; gap: 10px }
.page-title{ font-size: 18px; margin: 0 }

.search{ position: relative; width: min(520px, 55vw) }
.search__icon{ position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--muted) }
.search__input{
  width: 100%; padding: 10px 12px 10px 36px; border-radius: 10px; border: 1px solid var(--border);
  background: var(--panel); color: var(--text); outline: none;
}
.search__input::placeholder{ color: var(--muted) }

.icon-btn{ display: grid; place-items: center; width: 36px; height: 36px; border-radius: 10px; border: 1px solid var(--border); background: var(--panel); color: var(--text); cursor: pointer }
.icon-btn:hover{ border-color: var(--primary); color: var(--primary) }

/* Theme toggle icons visibility */
.theme-icon{ display:none }
html[data-theme="light"] .theme-icon--sun{ display:grid }
html[data-theme="dark"] .theme-icon--moon{ display:grid }

.user-menu{ position: relative }
.user-menu__btn{ display:flex; align-items:center; gap:8px; padding: 4px; background: transparent; border: none; cursor:pointer }
.avatar{ display:grid; place-items:center; width: 32px; height: 32px; border-radius:50%; background: linear-gradient(135deg, var(--primary), rgba(85,112,255,.45)); color: white; font-weight: 700; font-size: 12px }
.dropdown{ position:absolute; right:0; top: 44px; background: var(--panel); border: 1px solid var(--border); border-radius: 12px; min-width: 200px; box-shadow: var(--shadow); padding: 6px; display:none }
.dropdown[aria-hidden="false"]{ display:block }
.dropdown__item{ display:block; width: 100%; text-align:left; background:transparent; border:none; color: var(--text); padding:10px 12px; border-radius:8px; cursor:pointer }
.dropdown__item:hover{ background: rgba(85,112,255,.12) }
.dropdown__divider{ border: none; border-top: 1px solid var(--border); margin: 6px 0 }

.content{ display: grid; gap: 16px }
.cards{ display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px }

.card{ background: var(--panel); border: 1px solid var(--border); border-radius: 16px; padding: 16px; box-shadow: var(--shadow) }
.card__header{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom: 8px }
.chip{ font-size: 12px; padding: 4px 8px; border-radius: 999px; background: var(--chip-bg); color: var(--muted); border:1px solid var(--border) }
.chip--muted{ opacity:.8 }

.kpi{ display: grid; gap: 8px }
.kpi__header{ display:flex; align-items:center; justify-content:space-between }
.kpi__title{ margin: 0; font-size: 14px; color: var(--muted) }
.kpi__trend{ font-size: 12px; padding: 2px 6px; border-radius: 999px; border:1px solid var(--border) }
.kpi__trend--up{ color: var(--success) }
.kpi__trend--down{ color: var(--danger) }
.kpi__value{ margin: 0; font-size: 28px; font-weight: 700 }
.kpi__meta{ margin: 0; color: var(--muted); font-size: 12px }

.grid-2{ display:grid; grid-template-columns: 2fr 1fr; gap: 16px }
.grid-3{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 16px }
.chart-container{ position: relative; width: 100%; height: 300px }
.chart-container--sm{ height: 220px }
.legend{ display:flex; gap: 12px; list-style:none; padding:0; margin: 8px 0 0; color: var(--muted) }
.dot{ display:inline-block; width:10px; height:10px; border-radius:50% }
.dot--primary{ background: var(--primary) }
.dot--success{ background: var(--success) }
.dot--warning{ background: var(--warning) }

/* Olympic-specific utility dots */
.dot--gold{ background: var(--gold) }
.dot--silver{ background: var(--silver) }
.dot--bronze{ background: var(--bronze) }
.dot--ring-blue{ background: var(--ring-blue) }
.dot--ring-yellow{ background: var(--ring-yellow) }
.dot--ring-black{ background: var(--ring-black) }
.dot--ring-green{ background: var(--ring-green) }
.dot--ring-red{ background: var(--ring-red) }

.table-wrapper{ overflow:auto; border:1px solid var(--border); border-radius:12px }
.table{ width: 100%; border-collapse: collapse; min-width: 720px }
.table thead th{ text-align:left; font-size: 12px; color: var(--muted); font-weight: 600; padding: 12px; background: var(--panel-elev); border-bottom: 1px solid var(--border) }
.table tbody td{ padding: 12px; border-bottom: 1px solid var(--border) }
.table__empty td{ text-align:center; color: var(--muted) }

.badge{ font-size: 12px; padding: 4px 8px; border-radius: 999px; border:1px solid var(--border) }
.badge--success{ background: rgba(34,197,94,.15); color: var(--success); border-color: rgba(34,197,94,.35) }
.badge--warning{ background: rgba(234,179,8,.15); color: var(--warning); border-color: rgba(234,179,8,.35) }
.badge--muted{ background: rgba(148,163,184,.15); color: var(--muted); border-color: rgba(148,163,184,.35) }

/* Profile cards (coaches, athletes) */
.profile-card{ display:flex; align-items:center; gap:12px; padding:12px; border-radius:12px; border:1px solid var(--border); background: var(--panel-elev) }
.profile-card__avatar{ width:40px; height:40px; border-radius:50%; display:grid; place-items:center; color:white; font-weight:700; background: linear-gradient(135deg, var(--primary), rgba(85,112,255,.45)) }
.profile-card__meta{ display:grid }
.profile-card__name{ font-weight:600; margin:0 }
.profile-card__role{ margin:0; font-size:12px; color: var(--muted) }

/* Leaderboard */
.leaderboard{ list-style:none; padding:0; margin: 0; display:grid; gap:8px }
.leaderboard__item{ display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background: var(--panel-elev) }
.leaderboard__left{ display:flex; align-items:center; gap:10px }
.flag{ width:18px; height:12px; border-radius:2px; background: var(--border) }
.medals{ display:flex; gap:6px; color: var(--muted); font-size:12px }
.medals .dot{ width:8px; height:8px }

/* Timeline */
.timeline{ position:relative; padding-left:24px; display:grid; gap:12px }
.timeline::before{ content:''; position:absolute; left:8px; top:0; bottom:0; width:2px; background: var(--border) }
.timeline__item{ position:relative; padding:12px; border-radius:12px; border:1px solid var(--border); background: var(--panel-elev) }
.timeline__item::before{ content:''; position:absolute; left:-1px; top:18px; width:10px; height:10px; border-radius:50%; background: var(--primary); box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary), transparent 70%) }
.timeline__title{ margin:0 0 4px; font-weight:600 }
.timeline__meta{ margin:0; color: var(--muted); font-size:12px }

.field{ display:grid; gap: 6px }
.field--grow{ flex: 1 }
.filters{ display:flex; gap: 10px; align-items:end }
.input, .select{ width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid var(--border); background: var(--panel); color: var(--text) }

/* Sidebar mobile */
@media (max-width: 1000px){
  .layout{ grid-template-columns: 1fr; grid-template-areas: "main" }
  .sidebar{ position: fixed; left: -320px; width: 280px; transition: left .25s ease }
  .sidebar.is-open{ left: 0 }
  .sidebar-backdrop{ position: fixed; inset:0; background: rgba(0,0,0,.35); display:none }
  .sidebar-backdrop.is-visible{ display:block }
  .topbar{ margin-top: 0; border-bottom: 1px solid var(--border); background: color-mix(in oklab, var(--bg), transparent 70%) }
  .search{ width: 48vw }
  .cards{ grid-template-columns: repeat(2, 1fr) }
  .grid-2{ grid-template-columns: 1fr }
  .grid-3{ grid-template-columns: 1fr }
}

@media (max-width: 640px){
  .cards{ grid-template-columns: 1fr }
  .search{ display:none }
}
